# core-dump-client

A CLI for running a core dump session on kubernetes using the zipfile generated by [core-dump-handler](https://github.com/IBM/core-dump-handler) 

## Experimental

This tool is still under active development but the core functionality is in place. 
Currently it support nodejs, java or default lldb tools. 

## usage 

Ensure [core-dump-handler](https://github.com/IBM/core-dump-handler) is installed on your cluster.

Install the cli `cargo install core-dump-client`

Create a debug environment with 
```
cdc -c [name-of-zipfile] -i [crashed-image-name]
```
e.g. 
```
./cdc.sh 36c0d272-3295-4474-a16e-00885ba04fed-dump-1631477784-crashing-app-848dc79df4-srqkv-node-8-4.zip quay.io/number9/example-crashing-nodejs-app
```

This will log you into a running container with lldb tools and core file info available to you. 

To start a debug session in the environment run`rundebug.sh` command.

```
./rundebug
```

To inspect the metadata that was saved with crash `ls` will list the folder container your core file and the metadata json.

## demo

[![asciicast](https://asciinema.org/a/438878.svg)](https://asciinema.org/a/438878)
